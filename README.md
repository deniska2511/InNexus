<<<<<<< HEAD
<h3>Р”РѕР±СЂРѕ РїРѕР¶Р°Р»РѕРІР°С‚СЊ РЅР° СЃС‚СЂР°РЅРёС†Сѓ СЂР°Р·СЂР°Р±Р°С‚С‹РІР°РµРјРѕРіРѕ РїСЂРѕРµРєС‚Р° InNexus!</h3>
<p>РќР° РґР°РЅРЅРѕР№ СЃС‚СЂР°РЅРёС†Рµ РїСЂРµРґСЃС‚Р°РІР»РµРЅР° РЅР°РёР±РѕР»РµРµ РїРѕРґСЂРѕР±РЅР°СЏ РёРЅС„РѕСЂРјР°С†РёСЏ РЅР° С‚РµРєСѓС‰РµРµ РІСЂРµРјСЏ Рѕ СЃРѕР·РґР°РЅРёРё, СЃС‚СЂСѓРєС‚СѓСЂРµ Рё СЂР°Р±РѕС‚Рµ РїСЂРѕРµРєС‚Р° InNexus. Р”Р°РЅРЅС‹Р№ РїСЂРѕРµРєС‚ СЂР°Р·СЂР°Р±Р°С‚С‹РІР°РµС‚СЃСЏ, РєР°Рє РїР»Р°С‚С„РѕСЂРјР°, РЅР° РєРѕС‚РѕСЂРѕР№ РјРѕР¶РЅРѕ РѕР±СѓС‡Р°С‚СЊСЃСЏ РїСЂРѕРіСЂР°РјРјРёСЂРѕРІР°РЅРёСЋ, РґРµР»РёС‚СЊСЃСЏ СЃРІРѕРёРјРё Р·РЅР°РЅРёСЏРјРё Рё РѕРїС‹С‚РѕРј, СЃРѕР·РґР°РІР°С‚СЊ Рё СЂР°Р·СЂР°Р±Р°С‚С‹РІР°С‚СЊ СЃРІРѕРё РїСЂРѕРµРєС‚С‹, РїРѕРєР°Р·С‹РІР°С‚СЊ РёС… РІСЃРµРјСѓ РјРёСЂСѓ, РїРѕР»СѓС‡Р°С‚СЊ С†РµРЅРЅС‹Рµ СЃРѕРІРµС‚С‹ Рё РїРѕРґСЃРєР°Р·РєРё РѕС‚ РґСЂСѓРіРёС…, Р±РѕР»РµРµ РѕРїС‹С‚РЅС‹С… РІ РєРѕРЅРєСЂРµС‚РЅРѕР№ С‚РµРјРµ Р»СЋРґРµР№.</p>
<h2>РЎС‚СЂСѓРєС‚СѓСЂР° РїСЂРѕРµРєС‚Р°</h2>
<p>РџСЂРёСЃС‚СѓРїРёРј Рє СЂР°СЃСЃРјРѕС‚СЂРµРЅРёСЋ СЃС‚СЂСѓРєС‚СѓСЂС‹ РїСЂРѕРµРєС‚Р°.</p>
<h4>Р•РґРёРЅР°СЏ С‚РѕС‡РєР° РІС…РѕРґР°</h4>
<p>РџСЂРёР»РѕР¶РµРЅРёРµ СѓСЃС‚СЂРѕРµРЅРѕ С‚Р°РєРёРј РѕР±СЂР°Р·РѕРј, С‡С‚Рѕ РІС…РѕРґ РІ СЃР°Р№С‚ РІСЃРµРіРѕ Р»РёС€СЊ РѕРґРёРЅ - <b>index.php</b>, РєРѕС‚РѕСЂС‹Р№ СЂР°СЃРїРѕР»Р°РіР°РµС‚СЃСЏ РІ СЃР°РјРѕРј РєРѕСЂРЅРµ СЃР°Р№С‚Р°. Р¤Р°Р№Р» СЃРѕРґРµСЂР¶РёС‚ РєРѕРґ, РєРѕС‚РѕСЂС‹Р№ РјР°РЅРёРїСѓР»РёСЂСѓРµС‚ РїРѕРґРєР»СЋС‡РµРЅРёРµРј СЃС‚СЂР°РЅРёС† РІ Р·Р°РІРёСЃРёРјРѕСЃС‚Рё РѕС‚ Р·Р°РїСЂРѕСЃР° РїРѕР»СЊР·РѕРІР°С‚РµР»СЏ. Р­С‚Рѕ Р·РЅР°С‡РёС‚, С‡С‚Рѕ РґР»СЏ РѕР±СЂР°С‰РµРЅРёСЏ Рє РЅСѓР¶РЅРѕР№ РЅР°Рј СЃС‚СЂР°РЅРёС†Рµ (page), РјС‹ РґРѕР»Р¶РЅС‹ РѕС‚РїСЂР°РІРёС‚СЊ Р·Р°РїСЂРѕСЃ РІ РІРёРґРµ GET-РїР°СЂР°РјРµС‚СЂР°, Рє РµРіРѕ СЏС‡РµР№РєРµ <b>page</b>.</p>
=======
<h3>Добро пожаловать на страницу разрабатываемого проекта InNexus!</h3>
<p>На данной странице представлена наиболее подробная информация на текущее время о создании, структуре и работе проекта InNexus. Данный проект разрабатывается, как платформа, на которой можно обучаться программированию, делиться своими знаниями и опытом, создавать и разрабатывать свои проекты, показывать их всему миру, получать ценные советы и подсказки от других, более опытных в конкретной теме людей.</p>
<h2>Структура проекта</h2>
<p>Приступим к рассмотрению структуры проекта.</p>
<h4>Единая точка входа</h4>
<p>Приложение устроено таким образом, что вход в сайт всего лишь один - <b>index.php</b>, который располагается в самом корне сайта. Файл содержит код, который манипулирует подключением страниц в зависимости от запроса пользователя. Это значит, что для обращения к нужной нам странице (page), мы должны отправить запрос в виде GET-параметра, к его ячейке <b>page</b>.</p>
>>>>>>> InNexus
<p><b>index.php</b></p>

```php

<<<<<<< HEAD
// Р·Р°РїСѓСЃРє СЃРµСЃСЃРёРё
session_start();
// РІС‹РІРѕРґ РІСЃРµС… РѕС€РёР±РѕРє
error_reporting( E_ALL );
// РїСЂРѕРІРµСЂРєР° РЅР°Р»РёС‡РёСЏ GET-РїР°СЂР°РјРµС‚СЂР°
=======
// запуск сессии
session_start();
// вывод всех ошибок
error_reporting( E_ALL );
// проверка наличия GET-параметра
>>>>>>> InNexus
if( empty( $_GET['page'] ) )
	header( "Location: /start" );
else
	$class = htmlspecialchars( strip_tags( stripslashes( trim( $_GET['page'] ) ) ) );

include "core/class/Main.php";

$file = "core/class/" . $class . ".php";

if( file_exists( $file ) )
{
	include $file;

	if( class_exists( $class ) )
	{
		$page = new $class;
<<<<<<< HEAD
		$page -> getPage(); // Р’С‹РІРѕРґ СЃС‚СЂР°РЅРёС†С‹ РЅР° СЌРєСЂР°РЅ
=======
		$page -> getPage(); // Вывод страницы на экран
>>>>>>> InNexus
	}
	else
	{

	}
}
else
{

}

```
<<<<<<< HEAD
<p>РЎР»РµРґСѓСЋС‰Р°СЏ СЃС‚СЂРѕРєР° РёР· РєРѕРґР° РІС‹С€Рµ</p>

```php
// РїСЂРѕРІРµСЂРєР° РЅР°Р»РёС‡РёСЏ GET-РїР°СЂР°РјРµС‚СЂР°
=======
<p>Следующая строка из кода выше</p>

```php
// проверка наличия GET-параметра
>>>>>>> InNexus
if( empty( $_GET['page'] ) )
	header( "Location: /start" );
else
	$class = htmlspecialchars( strip_tags( stripslashes( trim( $_GET['page'] ) ) ) );

```

<<<<<<< HEAD
<p>СѓРєР°Р·С‹РІР°РµС‚ РїСЂРёР»РѕР¶РµРЅРёСЋ, С‡С‚Рѕ РІ Р·Р°РІРёСЃРёРјРѕСЃС‚Рё РѕС‚ GET['page'], РїРѕРґРєР»СЋС‡Р°РµС‚СЃСЏ РѕРїСЂРµРґРµР»РµРЅРЅС‹Р№ РєР»Р°СЃСЃ СЃС‚СЂР°РЅРёС†С‹, РЅР° РѕСЃРЅРѕРІРµ РєРѕС‚РѕСЂРѕРіРѕ Р±СѓРґРµС‚ СЃРѕР·РґР°РЅ РѕР±СЉРµРєС‚ РґР°РЅРЅРѕР№ СЃС‚СЂР°РЅРёС†С‹, С‚.Рµ. СЃС‚СЂР°РЅРёС†Р° РїСЂРёР»РѕР¶РµРЅРёСЏ - СЌС‚Рѕ Рё РµСЃС‚СЊ РѕР±СЉРµРєС‚. РљР°Р¶РґС‹Р№ РєР»Р°СЃСЃ СЃС‚СЂР°РЅРёС† РѕРїРёСЃС‹РІР°РµС‚СЃСЏ РїРѕ Р°Р±СЃС‚СЂР°РєС‚РЅРѕРјСѓ РєР»Р°СЃСЃСѓ <b>Main</b>, РєРѕС‚РѕСЂС‹Р№ РїРѕРґРєР»СЋС‡Р°РµС‚СЃСЏ РЅР° СЃР»РµРґСѓСЋС‰РµР№ СЃС‚СЂРѕРєРµ РєРѕРґР°</p>
=======
<p>указывает приложению, что в зависимости от GET['page'], подключается определенный класс страницы, на основе которого будет создан объект данной страницы, т.е. страница приложения - это и есть объект. Каждый класс страниц описывается по абстрактному классу <b>Main</b>, который подключается на следующей строке кода</p>
>>>>>>> InNexus

```php
include "core/class/Main.php";
```

<<<<<<< HEAD
<p>Р”Р°Р»РµРµ, СЃРѕР·РґР°РµС‚СЃСЏ РїРµСЂРµРјРµРЅРЅР°СЏ $file, РєРѕС‚РѕСЂР°СЏ СЃРѕРґРµСЂР¶РёС‚ РїСѓС‚СЊ РґРѕ С„Р°Р№Р»Р° СЃС‚СЂР°РЅРёС†С‹, СЃРѕРґРµСЂР¶Р°С‰РµРіРѕ РєР»Р°СЃСЃ, РёРјСЏ РєРѕС‚РѕСЂРѕРіРѕ РѕР±СЏР·Р°С‚РµР»СЊРЅРѕ СЃРѕРІРїР°РґР°РµС‚ СЃ РёРјРµРЅРµРј С„Р°Р№Р»Р°.</p>
=======
<p>Далее, создается переменная $file, которая содержит путь до файла страницы, содержащего класс, имя которого обязательно совпадает с именем файла.</p>
>>>>>>> InNexus

```php
$file = "core/class/" . $class . ".php";
```
<<<<<<< HEAD
<p>Р’ Р·Р°РІРёСЃРёРјРѕСЃС‚Рё РѕС‚ $class РІ РїРµСЂРµРјРµРЅРЅСѓСЋ $file Рё Р·Р°РїРёСЃС‹РІР°РµС‚СЃСЏ РїСѓС‚СЊ РґРѕ С„Р°Р№Р»Р°.</p>

<p>Р”Р°Р»РµРµ РёРґРµС‚ РїСЂРѕРІРµСЂРєР° РЅР° СЃСѓС‰РµСЃС‚РІРѕРІР°РЅРёРµ С„Р°Р№Р»Р°, Рё РµСЃР»Рё С„Р°Р№Р» СЃСѓС‰РµСЃС‚РІСѓРµС‚, С‚Рѕ РѕРЅ РїРѕРґРєР»СЋС‡Р°РµС‚СЃСЏ. РўР°РєРёРј РІРѕС‚ РѕР±СЂР°Р·РѕРј Рё РїСЂРѕРёСЃС…РѕРґРёС‚ РїРѕРґРєР»СЋС‡РµРЅРёРµ СЃС‚СЂР°РЅРёС†, РІ Р·Р°РІРёСЃРёРјРѕСЃС‚Рё РѕС‚ Р·Р°РїСЂРѕСЃР° РїРѕР»СЊР·РѕРІР°С‚РµР»СЏ.</p>
=======
<p>В зависимости от $class в переменную $file и записывается путь до файла.</p>

<p>Далее идет проверка на существование файла, и если файл существует, то он подключается. Таким вот образом и происходит подключение страниц, в зависимости от запроса пользователя.</p>
>>>>>>> InNexus

```php
if( file_exists( $file ) )
{
	include $file;

```

<<<<<<< HEAD
<p>Р—Р°С‚РµРј, С‡С‚РѕР±С‹ РЅРµ Р±С‹Р»Рѕ РѕС€РёР±РѕРє, РїСЂРѕРІРµСЂСЏРµРј РЅР°Р»РёС‡РёРµ РєР»Р°СЃСЃР°, РёРјСЏ РєРѕС‚РѕСЂРѕРіРѕ СЃРѕРІРїР°РґР°РµС‚ СЃ РёРјРµРЅРµРј С„Р°Р№Р»Р°</p>
=======
<p>Затем, чтобы не было ошибок, проверяем наличие класса, имя которого совпадает с именем файла</p>
>>>>>>> InNexus

```php
if( class_exists( $class ) )
{
```

<<<<<<< HEAD
<p>Рё, РµСЃР»Рё РёРјРµРµС‚СЃСЏ С‚Р°РєРѕР№ РєР»Р°СЃСЃ, С‚Рѕ РјС‹ СЃРѕР·РґР°РµРј СЌРєР·РµРјРїР»СЏСЂ РєР»Р°СЃСЃР°, РєРѕС‚РѕСЂС‹Р№ РѕРїРёСЃС‹РІР°РµС‚СЃСЏ РЅР° РѕСЃРЅРѕРІРµ Р°Р±СЃС‚СЂР°РєС‚РЅРѕРіРѕ РєР»Р°СЃСЃР° <b>Main</b>. Р Р·Р°С‚РµРј РѕР±СЂР°С‰Р°РµРјСЃСЏ Рє РјРµС‚РѕРґСѓ getPage(), РґР»СЏ РІС‹РІРѕРґР° СЃС‚СЂР°РЅРёС†С‹ РЅР° СЌРєСЂР°РЅ.</p>

```php
$page = new $class;
$page -> getPage(); // Р’С‹РІРѕРґ СЃС‚СЂР°РЅРёС†С‹ РЅР° СЌРєСЂР°РЅ
=======
<p>и, если имеется такой класс, то мы создаем экземпляр класса, который описывается на основе абстрактного класса <b>Main</b>. И затем обращаемся к методу getPage(), для вывода страницы на экран.</p>

```php
$page = new $class;
$page -> getPage(); // Вывод страницы на экран
>>>>>>> InNexus
```

<p><b>Main.php</b></p>
<p>core/class/Main.php</p>

```php
<?php




abstract class Main
{
	public $db, $config = [], $user, $title_page;
	public function __construct()
	{
<<<<<<< HEAD
		// РїРѕРґРєР»СЋС‡РµРЅРёРµ РєРѕРЅС‚СЂРѕР»Р»РµСЂРѕРІ
=======
		// подключение контроллеров
>>>>>>> InNexus
		{
			include "core/controllers/redirect.php";
			include "core/controllers/DB.php";
			include "core/controllers/User.php";
		}
		

<<<<<<< HEAD
		// РїРѕРґРєР»СЋС‡РµРЅРёРµ С„Р°Р№Р»Р° РєРѕРЅС„РёРіСѓСЂР°С†РёРё
		$_config = include "core/config/connect.php";

		// СЃРѕРµРґРёРЅРµРЅРёРµ СЃ Р‘Р”
		$this -> db = new DB( $_config['DB']['name'], $_config['DB']['user'], $_config['DB']['password'], $_config['DB']['host'], $_config['DB']['type'], $_config['DB']['charset'] );

		// СЃРѕР·РґР°РЅРёРµ РїРѕР»СЊР·РѕРІР°С‚РµР»СЏ
		// $this -> user = new User(); // СЂР°СЃСЃРјРѕС‚СЂРёРј РїРѕР·Р¶Рµ

		// РїРѕР»СѓС‡РµРЅРёРµ РєРѕРЅС„РёРіСѓСЂР°С†РёР№ СЃР°Р№С‚Р° РёР· Р‘Р”
=======
		// подключение файла конфигурации
		$_config = include "core/config/connect.php";

		// соединение с БД
		$this -> db = new DB( $_config['DB']['name'], $_config['DB']['user'], $_config['DB']['password'], $_config['DB']['host'], $_config['DB']['type'], $_config['DB']['charset'] );

		// создание пользователя
		// $this -> user = new User(); // рассмотрим позже

		// получение конфигураций сайта из БД
>>>>>>> InNexus
		{
			$query = $this -> db -> getRows( "SELECT * FROM `configs`" );
			for( $i = 0; $i < count( $query ); $i++ )
			{
				$title = $query[ $i ]['title'];
				$this -> config[ $title ] = $query[ $i ]['value'];
			}
		}

<<<<<<< HEAD
		// РѕР±СЂР°Р±РѕС‚Р°РµРј get РїР°СЂР°РјРµС‚СЂС‹
=======
		// обработаем get параметры
>>>>>>> InNexus
		$get = [];
		$get['page'] = htmlspecialchars( strip_tags( stripslashes( trim( $_GET['page'] ) ) ) );
		for( $i = 2; $i <= 4; $i++ )
		{
			$get[ $i ] = ( !empty( $_GET['url' . $i ] ) ) ? htmlspecialchars( strip_tags( stripslashes( trim( $_GET['url' . $i] ) ) ) ) : "null";
		}
		

<<<<<<< HEAD
		// РїРѕР»СѓС‡РµРЅРёРµ title СЃС‚СЂР°РЅРёС†С‹
=======
		// получение title страницы
>>>>>>> InNexus
		$query = $this -> db -> getRow( "SELECT `title` FROM `title_page` WHERE `url1` = ? and `url2` = ? and `url3` = ? and `url4` = ?", [ $get['page'], $get[2], $get[3], $get[4] ] );
		$this -> title_page = $query['title'];

	}

	public function css( array $css )
	{
		foreach( $css as $f )
		{
			echo "<link rel = 'stylesheet' href = '{$this -> config['SITE_URL']}app/tmpl/{$this -> config['SITE_TMPL']}/css/{$f}.css'>\n\t";
		}
	}

	public function js( array $js )
	{
		foreach( $js as $f )
		{
			echo ( strtolower( $f ) == 'jquery' ) ? "<script src='//ajax.googleapis.com/ajax/libs/jquery/3.1.0/jquery.min.js'></script>\n\t" : "<script src = '{$this -> config['SITE_URL']}app/tmpl/{$this -> config['SITE_TMPL']}/js/{$f}.js'></script>\n\t";
		}
	}

	public function font( array $font )
	{
		foreach( $font as $f )
		{
			echo "<link href='https://fonts.googleapis.com/css?family={$f}' rel='stylesheet'>\n\t";
		}
	}

	abstract protected function body();

	protected function module( $module )
	{
		if( file_exists( "app/tmpl/{$this -> config['SITE_TMPL']}/modules/{$module}.php" ) )
			include "app/tmpl/{$this -> config['SITE_TMPL']}/modules/{$module}.php";
		else
		{
<<<<<<< HEAD
			// РІС‹РІРѕРґРёРј РѕС€РёР±РєСѓ
=======
			// выводим ошибку
>>>>>>> InNexus
		}
	}

	protected function class_page()
	{
		return htmlspecialchars( strip_tags( stripslashes( trim( $_GET['page'] ) ) ) );
	}

	protected function page()
	{
		if( file_exists( "app/tmpl/{$this -> config['SITE_TMPL']}/pages/{$this -> class_page()}.php" ) )
			include "app/tmpl/{$this -> config['SITE_TMPL']}/pages/{$this -> class_page()}.php";
		else
		{
<<<<<<< HEAD
			// РІС‹РІРѕРґРёРј РѕС€РёР±РєСѓ
=======
			// выводим ошибку
>>>>>>> InNexus
		}
	}


	public function getPage()
	{
		include "app/tmpl/{$this -> config['SITE_TMPL']}/inc/header.php";
		$this -> body();
		include "app/tmpl/{$this -> config['SITE_TMPL']}/inc/footer.php";
	}
}
```

#hello